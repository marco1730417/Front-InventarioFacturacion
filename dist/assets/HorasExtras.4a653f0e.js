import{_ as B,r as t,o as D,a as F,F as U,b as c,c as u,d as p,e,f as s,g as w,w as l,h as r,t as n,q as j,l as h,p as G,i as J}from"./index.d537450a.js";import{u as q}from"./crud.c74c0204.js";const a=_=>(G("data-v-7f1e72c6"),_=_(),J(),_),z={class:"grid"},K={class:"col-12"},X={class:"card"},$={class:"grid p-fluid"},Q={class:"col"},W={class:"card"},Y=a(()=>e("h5",null,"Generaci\xF3n de reporte Horas Extras",-1)),Z={class:"p-fluid grid"},ee={class:"col-9 md:col-3"},oe={class:"field"},ae=a(()=>e("label",{for:"inputtext"},"Elija el A\xF1o",-1)),te={class:"col-9 md:col-3"},se={class:"field"},le=a(()=>e("label",{for:"inputmask"},"Elija el Mes",-1)),ne={class:"col-9 md:col-3"},de={class:"field"},ie=a(()=>e("label",{for:"inputmask"},"Elija el Usuario",-1)),ce={class:"col-9 md:col-3"},re={class:"field"},ue=a(()=>e("label",{for:"inputmask"},"Acciones",-1)),_e={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},me=a(()=>e("h5",{class:"m-0"},"Administraci\xF3n de Horas Ordinarias y Extraordinarias",-1)),pe={class:"block mt-2 md:mt-0 p-input-icon-left"},he=a(()=>e("i",{class:"pi pi-search"},null,-1)),ve=a(()=>e("span",{class:"p-column-title"},"FECHA",-1)),fe=a(()=>e("br",null,null,-1)),be=a(()=>e("span",{class:"p-column-title"},"MARCACIONES",-1)),ge=a(()=>e("span",{class:"p-column-title"},"HORARIO",-1)),we=a(()=>e("span",{class:"p-column-title"},"VALOR HORA",-1)),ye=a(()=>e("span",{class:"p-column-title"},"TIPO DIA",-1)),Ae=a(()=>e("span",{class:"p-column-title"},"HE",-1)),xe={key:1},Ee=a(()=>e("span",{class:"p-column-title"},"PAGO",-1)),ke={key:0},Re={key:1,title:"No aplica"},Se={__name:"HorasExtras",setup(_){const{cargarAgendamiento:Ve,datosAgendamiento:Oe,calcularMarcaciones:y,datosReporteMarcaciones:A,obtenerRegistros:x,datos:E}=q(),k=t("reportes"),R=t("usuarios"),v=t(),f=t(),S=t([{name:"2024",code:"2024"},{name:"2025",code:"2025"}]),b=t(),V=t([{name:"Enero",code:"01"},{name:"Febrero",code:"02"},{name:"Marzo",code:"03"},{name:"Abril",code:"04"},{name:"Mayo",code:"05"},{name:"Junio",code:"06"},{name:"Julio",code:"07"},{name:"Agosto",code:"08"},{name:"Septiembre",code:"09"},{name:"Octubre",code:"10"},{name:"Noviembre",code:"11"},{name:"Diciembre",code:"12"}]);t(!1),t(!1),t({});const O=t(null),m=t({}),C=t({mes:b,anio:f,usuario_id:v});t(!1),D(()=>{M()}),F(()=>{x(R.value)});const I=()=>{y(k.value,C.value)},M=()=>{m.value={global:{value:null,matchMode:U.CONTAINS}}};return(Ce,d)=>{const H=c("Toast"),g=c("Dropdown"),T=c("Button"),N=c("InputText"),i=c("Column"),L=c("Badge"),P=c("DataTable");return u(),p("div",z,[e("div",K,[e("div",X,[s(H),e("div",$,[e("div",Q,[e("div",W,[Y,e("div",Z,[e("div",ee,[e("div",oe,[ae,s(g,{modelValue:f.value,"onUpdate:modelValue":d[0]||(d[0]=o=>f.value=o),options:S.value,optionLabel:"name",placeholder:"Eliga un a\xF1o",class:"w-full md:w-14rem"},null,8,["modelValue","options"])])]),e("div",te,[e("div",se,[le,s(g,{modelValue:b.value,"onUpdate:modelValue":d[1]||(d[1]=o=>b.value=o),options:V.value,optionLabel:"name",placeholder:"Eliga un mes",class:"w-full md:w-14rem"},null,8,["modelValue","options"])])]),e("div",ne,[e("div",de,[ie,s(g,{modelValue:v.value,"onUpdate:modelValue":d[2]||(d[2]=o=>v.value=o),options:w(E),optionLabel:"name",placeholder:"Eliga un usuario",class:"w-full md:w-14rem"},null,8,["modelValue","options"])])]),e("div",ce,[e("div",re,[ue,s(T,{label:"Consultar",icon:"pi pi-calculator",class:"p-button-success",onClick:I})])])])])])]),s(P,{ref_key:"dt",ref:O,value:w(A),dataKey:"id",paginator:!0,rows:10,filters:m.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrando {first} hasta {last} de {totalRecords} registros",responsiveLayout:"scroll"},{header:l(()=>[e("div",_e,[me,e("span",pe,[he,s(N,{modelValue:m.value.global.value,"onUpdate:modelValue":d[3]||(d[3]=o=>m.value.global.value=o),placeholder:"Search..."},null,8,["modelValue"])])])]),default:l(()=>[s(i,{field:"nombre",header:"FECHA",sortable:!0,headerStyle:"width:5%; min-width:10rem;"},{body:l(o=>[ve,r(" "+n(o.data.fecha)+" ",1),fe]),_:1}),s(i,{field:"ruc",header:"MARCACIONES",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(o=>[be,r(" "+n(o.data.hora_entrada)+" - "+n(o.data.hora_salida),1)]),_:1}),s(i,{field:"ruc",header:"HORARIO",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(o=>[ge,r(" "+n(o.data.horario_establecido),1)]),_:1}),s(i,{field:"ruc",header:"V/H",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(o=>[we,r(" "+n(o.data.valor_hora),1)]),_:1}),s(i,{field:"ruc",header:"TIPO DIA",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:l(o=>[ye,r(" "+n(o.data.tipo_dia),1)]),_:1}),s(i,{field:"direccion",header:"HORAS EXTRAS",sortable:!0,headerStyle:"width:15%; min-width:10rem;"},{body:l(o=>[Ae,o.data.valor_pagar<0?(u(),j(L,{key:0,severity:"info"},{default:l(()=>[r(n(o.data.tiempo_excedente),1)]),_:2},1024)):h("",!0),o.data.valor_pagar>=0?(u(),p("span",xe,n(o.data.tiempo_excedente),1)):h("",!0)]),_:1}),s(i,{field:"direccion",header:"PAGO",sortable:!0,headerStyle:"width:15%; min-width:10rem;"},{body:l(o=>[Ee,o.data.valor_pagar>=0?(u(),p("span",ke," $ "+n(o.data.valor_pagar.toFixed(2)),1)):h("",!0),o.data.valor_pagar<0?(u(),p("span",Re," N/A")):h("",!0)]),_:1})]),_:1},8,["value","filters"])])])])}}},He=B(Se,[["__scopeId","data-v-7f1e72c6"]]);export{He as default};
