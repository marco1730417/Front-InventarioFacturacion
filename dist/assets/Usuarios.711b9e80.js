import{_ as z,r as c,o as K,a as G,F as J,b as r,c as _,d as b,e as o,f as a,w as s,g as Q,h as f,t as h,l as g,n as S,p as W,i as X}from"./index.d537450a.js";import{u as Y}from"./crud.c74c0204.js";const i=y=>(W("data-v-8eb12a2b"),y=y(),X(),y),Z={class:"grid"},ee={class:"col-12"},te={class:"card"},ae={class:"my-2"},oe={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},le=i(()=>o("h5",{class:"m-0"},"Administraci\xF3n de Usuarios",-1)),se={class:"block mt-2 md:mt-0 p-input-icon-left"},ie=i(()=>o("i",{class:"pi pi-search"},null,-1)),ne=i(()=>o("span",{class:"p-column-title"},"NOMBRE",-1)),re=i(()=>o("span",{class:"p-column-title"},"IDENTIFICACION",-1)),de=i(()=>o("span",{class:"p-column-title"},"Sueldo",-1)),ue=i(()=>o("span",{class:"p-column-title"},"PERFIL",-1)),ce={key:0},me={key:1},pe=i(()=>o("span",{class:"p-column-title"},"HORAS",-1)),ve={class:"field"},_e=i(()=>o("label",{for:"name"},"Nombres y Apellidos",-1)),be={key:0,class:"p-invalid"},fe={class:"field"},he=i(()=>o("label",{for:"name"},"N\xFAmero de c\xE9dula",-1)),ge={key:0,class:"p-invalid"},ye={class:"field"},Ce=i(()=>o("label",{for:"name"},"Salario.",-1)),ke={class:"field"},xe=i(()=>o("label",{for:"description"},"N\xFAmero Horas Laborables (Escribir en formato: 08:00:00)",-1)),we={class:"flex align-items-center justify-content-center"},Ne=i(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Re={key:0},Se={__name:"Usuarios",setup(y){const{obtenerRegistros:C,editarRegistro:I,datos:V,guardarRegistro:E,eliminarRegistro:T}=Y(),d=c("usuarios"),m=c(!1),k=c(!1),t=c({}),N=c(null),x=c({}),u=c(!1);K(()=>{O()}),G(()=>{C(d.value)});const D=()=>{t.value={},u.value=!1,m.value=!0},M=()=>{m.value=!1,u.value=!1},P=()=>{u.value=!0,t.value.name&&t.value.identificacion&&(t.value.id?(I(d.value,t.value),C(d.value)):(E(d.value,t.value),C(d.value)),m.value=!1,t.value={})},U=p=>{t.value={...p},m.value=!0},L=p=>{t.value=p,k.value=!0},A=p=>{T(d.value,p),C(d.value)},F=()=>{N.value.exportCSV()},O=()=>{x.value={global:{value:null,matchMode:J.CONTAINS}}};return(p,l)=>{const B=r("Toast"),n=r("Button"),q=r("Toolbar"),w=r("InputText"),v=r("Column"),$=r("DataTable"),H=r("InputNumber"),R=r("Dialog");return _(),b("div",Z,[o("div",ee,[o("div",te,[a(B),a(q,{class:"mb-4"},{start:s(()=>[o("div",ae,[a(n,{label:"Nuevo",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:D})])]),end:s(()=>[a(n,{label:"Exportar",icon:"pi pi-upload",class:"p-button-help",onClick:l[0]||(l[0]=e=>F(e))})]),_:1}),a($,{ref_key:"dt",ref:N,value:Q(V),dataKey:"id",paginator:!0,rows:10,filters:x.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrando {first} hasta {last} de {totalRecords} registros",responsiveLayout:"scroll"},{header:s(()=>[o("div",oe,[le,o("span",se,[ie,a(w,{modelValue:x.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=e=>x.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:s(()=>[a(v,{field:"nombre",header:"NOMBRE",sortable:!0,headerStyle:"width:25%; min-width:10rem;"},{body:s(e=>[ne,f(" "+h(e.data.name),1)]),_:1}),a(v,{field:"identificacion",header:"IDENTIFICACION",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(e=>[re,f(" "+h(e.data.identificacion),1)]),_:1}),a(v,{field:"sueldo",header:"SUELDO",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(e=>[de,f(" "+h(e.data.sueldo),1)]),_:1}),a(v,{field:"sueldo",header:"PERFIL",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(e=>[ue,e.data.perfil==1?(_(),b("span",ce,"Administrador")):g("",!0),e.data.perfil==2?(_(),b("span",me,"Est\xE1ndar")):g("",!0)]),_:1}),a(v,{field:"sueldo",header:"HORAS",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(e=>[pe,f(" "+h(e.data.numero_horas_laborables),1)]),_:1}),a(v,{headerStyle:"min-width:10rem;",header:"ACCIONES "},{body:s(e=>[a(n,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:j=>U(e.data)},null,8,["onClick"]),a(n,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:j=>L(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters"]),a(R,{visible:m.value,"onUpdate:visible":l[6]||(l[6]=e=>m.value=e),style:{width:"750px"},header:"Detalles de Registro",modal:!0,class:"p-fluid"},{footer:s(()=>[a(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:M}),a(n,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:P})]),default:s(()=>[o("div",ve,[_e,a(w,{id:"name",modelValue:t.value.name,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:S({"p-invalid":u.value&&!t.value.name})},null,8,["modelValue","class"]),u.value&&!t.value.name?(_(),b("small",be,"Name is required.")):g("",!0)]),o("div",fe,[he,a(w,{id:"name",modelValue:t.value.identificacion,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.identificacion=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:S({"p-invalid":u.value&&!t.value.identificacion})},null,8,["modelValue","class"]),u.value&&!t.value.identificacion?(_(),b("small",ge,"Numero de cedula es requerido.")):g("",!0)]),o("div",ye,[Ce,a(H,{minFractionDigits:2,maxFractionDigits:5,id:"name",modelValue:t.value.sueldo,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.sueldo=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue"])]),o("div",ke,[xe,a(w,{id:"description",modelValue:t.value.numero_horas_laborables,"onUpdate:modelValue":l[5]||(l[5]=e=>t.value.numero_horas_laborables=e),required:"true"},null,8,["modelValue"])])]),_:1},8,["visible"]),a(R,{visible:k.value,"onUpdate:visible":l[9]||(l[9]=e=>k.value=e),style:{width:"450px"},header:"Confirmar",modal:!0},{footer:s(()=>[a(n,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:l[7]||(l[7]=e=>k.value=!1)}),a(n,{label:"SI",icon:"pi pi-check",class:"p-button-text",onClick:l[8]||(l[8]=e=>A(t.value.id))})]),default:s(()=>[o("div",we,[Ne,t.value?(_(),b("span",Re,[f("Estas seguro de eliminar a "),o("b",null,h(t.value.name),1),f("?")])):g("",!0)])]),_:1},8,["visible"])])])])}}},Ee=z(Se,[["__scopeId","data-v-8eb12a2b"]]);export{Ee as default};
