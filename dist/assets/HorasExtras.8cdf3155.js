import{_ as F,r as s,o as U,q as j,a as G,F as J,b as r,c as u,d as h,e,f as t,g as x,h as c,w as n,t as d,s as q,l as v,p as z,i as K}from"./index.510abe7e.js";import{u as X}from"./crud.87c3148d.js";const o=_=>(z("data-v-312b03be"),_=_(),K(),_),$={class:"grid"},Q={class:"col-12"},W={class:"card"},Y={class:"grid p-fluid"},Z={class:"col"},ee={class:"card"},ae=o(()=>e("h5",null,"Generaci\xF3n de reporte Horas Extras",-1)),oe={class:"p-fluid grid"},te={class:"col-9 md:col-3"},se={class:"field"},le=o(()=>e("label",{for:"inputtext"},"Elija el A\xF1o",-1)),ne={class:"col-9 md:col-3"},de={class:"field"},ie=o(()=>e("label",{for:"inputmask"},"Elija el Mes",-1)),re={class:"col-9 md:col-3"},ce={class:"field"},ue=o(()=>e("label",{for:"inputmask"},"Elija el Usuario",-1)),_e={class:"col-9 md:col-3"},me={class:"field"},pe=o(()=>e("label",{for:"inputmask"},"Acciones",-1)),he=o(()=>e("br",null,null,-1)),ve=o(()=>e("br",null,null,-1)),be={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},fe=o(()=>e("h5",{class:"m-0"},"Administraci\xF3n de Horas Ordinarias y Extraordinarias",-1)),ge={class:"block mt-2 md:mt-0 p-input-icon-left"},we=o(()=>e("i",{class:"pi pi-search"},null,-1)),ye=o(()=>e("span",{class:"p-column-title"},"FECHA",-1)),Ae=o(()=>e("br",null,null,-1)),xe=o(()=>e("span",{class:"p-column-title"},"MARCACIONES",-1)),Ee=o(()=>e("span",{class:"p-column-title"},"HORARIO",-1)),Ve=o(()=>e("span",{class:"p-column-title"},"VALOR HORA",-1)),ke=o(()=>e("span",{class:"p-column-title"},"TIPO DIA",-1)),Re=o(()=>e("span",{class:"p-column-title"},"HE",-1)),Se={key:1},Oe=o(()=>e("span",{class:"p-column-title"},"PAGO",-1)),Ce={key:0},Ie={key:1,title:"No aplica"},Me={__name:"HorasExtras",setup(_){const{cargarAgendamiento:Te,datosAgendamiento:He,calcularMarcaciones:E,datosReporteMarcaciones:y,obtenerRegistros:V,datos:k}=X(),R=s("reportes"),S=s("usuarios"),b=s(),f=s(),O=s([{name:"2024",code:"2024"},{name:"2025",code:"2025"}]),g=s(),C=s([{name:"Enero",code:"01"},{name:"Febrero",code:"02"},{name:"Marzo",code:"03"},{name:"Abril",code:"04"},{name:"Mayo",code:"05"},{name:"Junio",code:"06"},{name:"Julio",code:"07"},{name:"Agosto",code:"08"},{name:"Septiembre",code:"09"},{name:"Octubre",code:"10"},{name:"Noviembre",code:"11"},{name:"Diciembre",code:"12"}]);s(!1),s(!1),s({});const I=s(null),m=s({}),M=s({mes:g,anio:f,usuario_id:b});s(!1),U(()=>{N()});const T=j(()=>y.value.reduce((p,l)=>(console.log(l.valor_pagar),l.valor_pagar>0&&(p=p+l.valor_pagar),p),0));G(()=>{V(S.value)});const H=()=>{E(R.value,M.value)},N=()=>{m.value={global:{value:null,matchMode:J.CONTAINS}}};return(p,l)=>{const L=r("Toast"),w=r("Dropdown"),A=r("Button"),B=r("InputText"),i=r("Column"),D=r("Badge"),P=r("DataTable");return u(),h("div",$,[e("div",Q,[e("div",W,[t(L),e("div",Y,[e("div",Z,[e("div",ee,[ae,e("div",oe,[e("div",te,[e("div",se,[le,t(w,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=a=>f.value=a),options:O.value,optionLabel:"name",placeholder:"Eliga un a\xF1o",class:"w-full md:w-14rem"},null,8,["modelValue","options"])])]),e("div",ne,[e("div",de,[ie,t(w,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=a=>g.value=a),options:C.value,optionLabel:"name",placeholder:"Eliga un mes",class:"w-full md:w-14rem"},null,8,["modelValue","options"])])]),e("div",re,[e("div",ce,[ue,t(w,{modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=a=>b.value=a),options:x(k),optionLabel:"name",placeholder:"Eliga un usuario",class:"w-full md:w-14rem"},null,8,["modelValue","options"])])]),e("div",_e,[e("div",me,[pe,t(A,{label:"Consultar",icon:"pi pi-calculator",class:"p-button-success",onClick:H}),c(),he,ve,e("div",null,[t(A,{label:T.value,icon:"pi pi-dollar",class:"p-button-warning",badgeClass:"p-badge-danger"},null,8,["label"])])])])])])])]),t(P,{ref_key:"dt",ref:I,value:x(y),dataKey:"id",paginator:!0,rows:10,filters:m.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrando {first} hasta {last} de {totalRecords} registros",responsiveLayout:"scroll"},{header:n(()=>[e("div",be,[fe,e("span",ge,[we,t(B,{modelValue:m.value.global.value,"onUpdate:modelValue":l[3]||(l[3]=a=>m.value.global.value=a),placeholder:"Search..."},null,8,["modelValue"])])])]),default:n(()=>[t(i,{field:"nombre",header:"FECHA",sortable:!0,headerStyle:"width:5%; min-width:10rem;"},{body:n(a=>[ye,c(" "+d(a.data.fecha)+" ",1),Ae]),_:1}),t(i,{field:"ruc",header:"MARCACIONES",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(a=>[xe,c(" "+d(a.data.hora_entrada)+" - "+d(a.data.hora_salida),1)]),_:1}),t(i,{field:"ruc",header:"HORARIO",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(a=>[Ee,c(" "+d(a.data.horario_establecido),1)]),_:1}),t(i,{field:"ruc",header:"V/H",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(a=>[Ve,c(" "+d(a.data.valor_hora),1)]),_:1}),t(i,{field:"ruc",header:"TIPO DIA",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(a=>[ke,c(" "+d(a.data.tipo_dia),1)]),_:1}),t(i,{field:"direccion",header:"HORAS EXTRAS",sortable:!0,headerStyle:"width:15%; min-width:10rem;"},{body:n(a=>[Re,a.data.valor_pagar<0?(u(),q(D,{key:0,severity:"info"},{default:n(()=>[c(d(a.data.tiempo_excedente),1)]),_:2},1024)):v("",!0),a.data.valor_pagar>=0?(u(),h("span",Se,d(a.data.tiempo_excedente),1)):v("",!0)]),_:1}),t(i,{field:"direccion",header:"PAGO",sortable:!0,headerStyle:"width:15%; min-width:10rem;"},{body:n(a=>[Oe,a.data.valor_pagar>=0?(u(),h("span",Ce," $ "+d(a.data.valor_pagar),1)):v("",!0),a.data.valor_pagar<0||a.data.valor_pagar==null?(u(),h("span",Ie," N/A")):v("",!0)]),_:1})]),_:1},8,["value","filters"])])])])}}},Be=F(Me,[["__scopeId","data-v-312b03be"]]);export{Be as default};
