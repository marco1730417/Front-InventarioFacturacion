import{_ as F,u as L,r as t,o as D,a as N,F as E,b as c,c as U,d as H,e,f as a,w as d,g as O,h as g,t as b,p as j,i as G}from"./index.510abe7e.js";import{u as K}from"./crud.87c3148d.js";const s=r=>(j("data-v-98861682"),r=r(),G(),r),q={class:"grid"},z={class:"col-12 lg:col-6"},J={class:"card p-fluid"},Q=s(()=>e("h5",null,"INGRESO",-1)),W={class:"col-12 lg:col-6"},X={class:"card p-fluid"},Y=s(()=>e("h5",null,"SALIDA",-1)),Z={class:"col-12 lg:col-12"},$={class:"grid p-fluid"},ee={class:"col"},oe={class:"card"},ae=s(()=>e("h5",null,"Consulta de Asistencia",-1)),se={class:"p-fluid grid"},te={class:"col-9 md:col-4"},le={class:"field"},ne=s(()=>e("label",{for:"inputtext"},"Fecha Inicio",-1)),ie={class:"col-9 md:col-4"},ce={class:"field"},de=s(()=>e("label",{for:"inputmask"},"Fecha Fin",-1)),re={class:"col-9 md:col-3"},ue={class:"field"},_e=s(()=>e("label",{for:"inputmask"},"Acciones",-1)),he={class:"card"},pe={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},me=s(()=>e("h5",{class:"m-0"},"Historial de Marcaciones",-1)),ve={class:"block mt-2 md:mt-0 p-input-icon-left"},fe=s(()=>e("i",{class:"pi pi-search"},null,-1)),ge=s(()=>e("span",{class:"p-column-title"},"FECHA",-1)),be=s(()=>e("span",{class:"p-column-title"},"ENTRADA",-1)),we=s(()=>e("span",{class:"p-column-title"},"SALIDA",-1)),Ae={__name:"Marcaciones",setup(r){const S=L(),{datosMarcaciones:y,guardarRegistroEntrada:C,guardarRegistroSalida:I,obtenerRegistrosMarcaciones:u}=K(),l=t("marcaciones"),h=t({}),p=t(null),m=t(null),k=t(null),_=t({}),w=t(S.user.id),n=t({usuario_id:w.value});n.value.fechaInicio=p,n.value.fechaFinal=m,h.value.usuario_id=w.value,D(()=>{M()}),N(()=>{u(l.value,n.value)});const R=()=>{C(l.value,h.value),u(l.value,n.value)},T=()=>{u(l.value,n.value)},x=()=>{I(l.value,h.value),u(l.value,n.value)},M=()=>{_.value={global:{value:null,matchMode:E.CONTAINS}}};return(Se,i)=>{const v=c("Button"),P=c("Toast"),A=c("Calendar"),V=c("InputText"),f=c("Column"),B=c("DataTable");return U(),H("div",q,[e("div",z,[e("div",J,[Q,a(v,{label:"Timbrar",icon:"pi pi-sign-in",style:{width:"auto"},onClick:R})])]),e("div",W,[e("div",X,[Y,a(v,{label:"Timbrar",icon:"pi pi-sign-out",class:"p-button-danger",style:{width:"auto"},onClick:x})])]),e("div",Z,[a(P),e("div",$,[e("div",ee,[e("div",oe,[ae,e("div",se,[e("div",te,[e("div",le,[ne,a(A,{showIcon:!0,showButtonBar:!0,modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=o=>p.value=o)},null,8,["modelValue"])])]),e("div",ie,[e("div",ce,[de,a(A,{showIcon:!0,showButtonBar:!0,modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=o=>m.value=o)},null,8,["modelValue"])])]),e("div",re,[e("div",ue,[_e,a(v,{label:"Consultar",icon:"pi pi-search",class:"p-button-success",onClick:T})])])])])])]),e("div",he,[a(B,{ref_key:"dt",ref:k,value:O(y),dataKey:"id",paginator:!0,rows:10,filters:_.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrando {first} hasta {last} de {totalRecords} registros",responsiveLayout:"scroll"},{header:d(()=>[e("div",pe,[me,e("span",ve,[fe,a(V,{modelValue:_.value.global.value,"onUpdate:modelValue":i[2]||(i[2]=o=>_.value.global.value=o),placeholder:"Search..."},null,8,["modelValue"])])])]),default:d(()=>[a(f,{field:"nombre",header:"FECHA",headerStyle:"width:25%; min-width:10rem;"},{body:d(o=>[ge,g(" "+b(o.data.fecha),1)]),_:1}),a(f,{field:"identificacion",header:"ENTRADA",headerStyle:"width:25%; min-width:10rem;"},{body:d(o=>[be,g(" "+b(o.data.hora_entrada),1)]),_:1}),a(f,{field:"identificacion",header:"SALIDA",headerStyle:"width:25%; min-width:10rem;"},{body:d(o=>[we,g(" "+b(o.data.hora_salida),1)]),_:1})]),_:1},8,["value","filters"])])])])}}},Ie=F(Ae,[["__scopeId","data-v-98861682"]]);export{Ie as default};
