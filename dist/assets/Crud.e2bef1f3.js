import{_ as ae,x as oe,u as se,r,q as ne,o as ie,s as de,b as d,c as p,d as _,e as l,f as o,g as n,i as g,t as y,j as M,n as C,l as k,p as ue,m as ce}from"./index.eced38de.js";import{P as re}from"./ProductService.1a433e0b.js";const s=V=>(ue("data-v-5f74af42"),V=V(),ce(),V),ve={class:"grid"},me={class:"col-12"},pe={class:"card"},_e={class:"my-2"},ye={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},fe=s(()=>l("h5",{class:"m-0"},"Manage Products",-1)),be={class:"block mt-2 md:mt-0 p-input-icon-left"},he=s(()=>l("i",{class:"pi pi-search"},null,-1)),ge=s(()=>l("span",{class:"p-column-title"},"Code",-1)),Se=s(()=>l("span",{class:"p-column-title"},"Name",-1)),we=s(()=>l("span",{class:"p-column-title"},"Image",-1)),Ce=["src","alt"],ke=s(()=>l("span",{class:"p-column-title"},"Price",-1)),Ve=s(()=>l("span",{class:"p-column-title"},"Category",-1)),xe=s(()=>l("span",{class:"p-column-title"},"Rating",-1)),Pe=s(()=>l("span",{class:"p-column-title"},"Status",-1)),Ue=["src","alt"],De={class:"field"},Te=s(()=>l("label",{for:"name"},"Name",-1)),Ie={key:0,class:"p-invalid"},Ne={class:"field"},Le=s(()=>l("label",{for:"description"},"Description",-1)),qe={class:"field"},Me=s(()=>l("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1)),Re={key:0},Be={key:1},Fe={key:2},Oe={class:"field"},Ae=s(()=>l("label",{class:"mb-3"},"Category",-1)),Ke={class:"formgrid grid"},je={class:"field-radiobutton col-6"},ze=s(()=>l("label",{for:"category1"},"Accessories",-1)),Ee={class:"field-radiobutton col-6"},$e=s(()=>l("label",{for:"category2"},"Clothing",-1)),Ye={class:"field-radiobutton col-6"},Qe=s(()=>l("label",{for:"category3"},"Electronics",-1)),We={class:"field-radiobutton col-6"},Ge=s(()=>l("label",{for:"category4"},"Fitness",-1)),He={class:"formgrid grid"},Je={class:"field col"},Xe=s(()=>l("label",{for:"price"},"Price",-1)),Ze={key:0,class:"p-invalid"},et={class:"field col"},tt=s(()=>l("label",{for:"quantity"},"Quantity",-1)),lt={class:"flex align-items-center justify-content-center"},at=s(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),ot={key:0},st={class:"flex align-items-center justify-content-center"},nt=s(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),it={key:0},dt={__name:"Crud",setup(V){const x=oe(),{contextPath:T}=se(),c=r(null),b=r(!1),S=r(!1),w=r(!1),t=r({}),h=r(null),I=r(null),P=r({}),f=r(!1),R=r([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]),B=new re;ne(()=>{G()}),ie(()=>{B.getProducts().then(i=>c.value=i)});const F=i=>i.toLocaleString("en-US",{style:"currency",currency:"USD"}),O=()=>{t.value={},f.value=!1,b.value=!0},A=()=>{b.value=!1,f.value=!1},K=()=>{f.value=!0,t.value.name&&t.value.name.trim()&&t.value.price&&(t.value.id?(t.value.inventoryStatus=t.value.inventoryStatus.value?t.value.inventoryStatus.value:t.value.inventoryStatus,c.value[$(t.value.id)]=t.value,x.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(t.value.id=N(),t.value.code=N(),t.value.image="product-placeholder.svg",t.value.inventoryStatus=t.value.inventoryStatus?t.value.inventoryStatus.value:"INSTOCK",c.value.push(t.value),x.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),b.value=!1,t.value={})},j=i=>{t.value={...i},console.log(t),b.value=!0},z=i=>{t.value=i,S.value=!0},E=()=>{c.value=c.value.filter(i=>i.id!==t.value.id),S.value=!1,t.value={},x.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},$=i=>{let a=-1;for(let v=0;v<c.value.length;v++)if(c.value[v].id===i){a=v;break}return a},N=()=>{let i="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let v=0;v<5;v++)i+=a.charAt(Math.floor(Math.random()*a.length));return i},Y=()=>{I.value.exportCSV()},Q=()=>{w.value=!0},W=()=>{c.value=c.value.filter(i=>!h.value.includes(i)),w.value=!1,h.value=null,x.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},G=()=>{P.value={global:{value:null,matchMode:de.CONTAINS}}};return(i,a)=>{const v=d("Toast"),u=d("Button"),H=d("FileUpload"),J=d("Toolbar"),L=d("InputText"),m=d("Column"),X=d("Rating"),Z=d("DataTable"),ee=d("Textarea"),te=d("Dropdown"),U=d("RadioButton"),q=d("InputNumber"),D=d("Dialog");return p(),_("div",ve,[l("div",me,[l("div",pe,[o(v),o(J,{class:"mb-4"},{start:n(()=>[l("div",_e,[o(u,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:O}),o(u,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:Q,disabled:!h.value||!h.value.length},null,8,["disabled"])])]),end:n(()=>[o(H,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),o(u,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:a[0]||(a[0]=e=>Y(e))})]),_:1}),o(Z,{ref_key:"dt",ref:I,value:c.value,selection:h.value,"onUpdate:selection":a[2]||(a[2]=e=>h.value=e),dataKey:"id",paginator:!0,rows:10,filters:P.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:n(()=>[l("div",ye,[fe,l("span",be,[he,o(L,{modelValue:P.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=e=>P.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:n(()=>[o(m,{selectionMode:"multiple",headerStyle:"width: 3rem"}),o(m,{field:"code",header:"Code",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(e=>[ge,g(" "+y(e.data.code),1)]),_:1}),o(m,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(e=>[Se,g(" "+y(e.data.name),1)]),_:1}),o(m,{header:"Image",headerStyle:"width:14%; min-width:10rem;"},{body:n(e=>[we,l("img",{src:M(T)+"demo/images/product/"+e.data.image,alt:e.data.image,class:"shadow-2",width:"100"},null,8,Ce)]),_:1}),o(m,{field:"price",header:"Price",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:n(e=>[ke,g(" "+y(F(e.data.price)),1)]),_:1}),o(m,{field:"category",header:"Category",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(e=>[Ve,g(" "+y(e.data.category),1)]),_:1}),o(m,{field:"rating",header:"Reviews",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(e=>[xe,o(X,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"])]),_:1}),o(m,{field:"inventoryStatus",header:"Status",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(e=>[Pe,l("span",{class:C("product-badge status-"+(e.data.inventoryStatus?e.data.inventoryStatus.toLowerCase():""))},y(e.data.inventoryStatus),3)]),_:1}),o(m,{headerStyle:"min-width:10rem;"},{body:n(e=>[o(u,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:le=>j(e.data)},null,8,["onClick"]),o(u,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:le=>z(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),o(D,{visible:b.value,"onUpdate:visible":a[12]||(a[12]=e=>b.value=e),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:n(()=>[o(u,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:A}),o(u,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:K})]),default:n(()=>[t.value.image?(p(),_("img",{key:0,src:M(T)+"demo/images/product/"+t.value.image,alt:t.value.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,Ue)):k("",!0),l("div",De,[Te,o(L,{id:"name",modelValue:t.value.name,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:C({"p-invalid":f.value&&!t.value.name})},null,8,["modelValue","class"]),f.value&&!t.value.name?(p(),_("small",Ie,"Name is required.")):k("",!0)]),l("div",Ne,[Le,o(ee,{id:"description",modelValue:t.value.description,"onUpdate:modelValue":a[4]||(a[4]=e=>t.value.description=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),l("div",qe,[Me,o(te,{id:"inventoryStatus",modelValue:t.value.inventoryStatus,"onUpdate:modelValue":a[5]||(a[5]=e=>t.value.inventoryStatus=e),options:R.value,optionLabel:"label",placeholder:"Select a Status"},{value:n(e=>[e.value&&e.value.value?(p(),_("div",Re,[l("span",{class:C("product-badge status-"+e.value.value)},y(e.value.label),3)])):e.value&&!e.value.value?(p(),_("div",Be,[l("span",{class:C("product-badge status-"+e.value.toLowerCase())},y(e.value),3)])):(p(),_("span",Fe,y(e.placeholder),1))]),_:1},8,["modelValue","options"])]),l("div",Oe,[Ae,l("div",Ke,[l("div",je,[o(U,{id:"category1",name:"category",value:"Accessories",modelValue:t.value.category,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value.category=e)},null,8,["modelValue"]),ze]),l("div",Ee,[o(U,{id:"category2",name:"category",value:"Clothing",modelValue:t.value.category,"onUpdate:modelValue":a[7]||(a[7]=e=>t.value.category=e)},null,8,["modelValue"]),$e]),l("div",Ye,[o(U,{id:"category3",name:"category",value:"Electronics",modelValue:t.value.category,"onUpdate:modelValue":a[8]||(a[8]=e=>t.value.category=e)},null,8,["modelValue"]),Qe]),l("div",We,[o(U,{id:"category4",name:"category",value:"Fitness",modelValue:t.value.category,"onUpdate:modelValue":a[9]||(a[9]=e=>t.value.category=e)},null,8,["modelValue"]),Ge])])]),l("div",He,[l("div",Je,[Xe,o(q,{id:"price",modelValue:t.value.price,"onUpdate:modelValue":a[10]||(a[10]=e=>t.value.price=e),mode:"currency",currency:"USD",locale:"en-US",class:C({"p-invalid":f.value&&!t.value.price}),required:!0},null,8,["modelValue","class"]),f.value&&!t.value.price?(p(),_("small",Ze,"Price is required.")):k("",!0)]),l("div",et,[tt,o(q,{id:"quantity",modelValue:t.value.quantity,"onUpdate:modelValue":a[11]||(a[11]=e=>t.value.quantity=e),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),o(D,{visible:S.value,"onUpdate:visible":a[14]||(a[14]=e=>S.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[o(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[13]||(a[13]=e=>S.value=!1)}),o(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:E})]),default:n(()=>[l("div",lt,[at,t.value?(p(),_("span",ot,[g("Are you sure you want to delete "),l("b",null,y(t.value.name),1),g("?")])):k("",!0)])]),_:1},8,["visible"]),o(D,{visible:w.value,"onUpdate:visible":a[16]||(a[16]=e=>w.value=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[o(u,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[15]||(a[15]=e=>w.value=!1)}),o(u,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:W})]),default:n(()=>[l("div",st,[nt,t.value?(p(),_("span",it,"Are you sure you want to delete the selected products?")):k("",!0)])]),_:1},8,["visible"])])])])}}},rt=ae(dt,[["__scopeId","data-v-5f74af42"]]);export{rt as default};
