import{_ as K,r as c,q as G,o as H,s as J,b as r,c as y,d as k,e as l,f as o,g as s,j as Q,i as m,t as _,n as N,l as V,p as W,m as X}from"./index.eced38de.js";import{u as Y}from"./crud.c38a67b9.js";const i=h=>(W("data-v-4c317b25"),h=h(),X(),h),Z={class:"grid"},ee={class:"col-12"},te={class:"card"},le={class:"my-2"},oe={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},ae=i(()=>l("h5",{class:"m-0"},"Administraci\xF3n de Clientes",-1)),se={class:"block mt-2 md:mt-0 p-input-icon-left"},ie=i(()=>l("i",{class:"pi pi-search"},null,-1)),ne=i(()=>l("span",{class:"p-column-title"},"NOMBRE",-1)),re=i(()=>l("br",null,null,-1)),de=i(()=>l("span",{class:"p-column-title"},"Email",-1)),ue=i(()=>l("span",{class:"p-column-title"},"DIRECCION",-1)),ce=i(()=>l("span",{class:"p-column-title"},"TELEFONO",-1)),me={class:"field"},pe=i(()=>l("label",{for:"name"},"Nombre",-1)),ve={key:0,class:"p-invalid"},_e={class:"field"},fe=i(()=>l("label",{for:"name"},"Ruc",-1)),be={key:0,class:"p-invalid"},he={class:"field"},ge=i(()=>l("label",{for:"description"},"Direccion",-1)),Ce={class:"field"},xe=i(()=>l("label",{for:"name"},"Telefono",-1)),ye={class:"field"},ke=i(()=>l("label",{for:"name"},"Email",-1)),Ve={class:"flex align-items-center justify-content-center"},we=i(()=>l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Re={key:0},Ne={__name:"Clientes",setup(h){const{obtenerRegistros:g,editarRegistro:T,datos:E,guardarRegistro:S,eliminarRegistro:I}=Y(),d=c("clientes"),p=c(!1),C=c(!1),t=c({}),w=c(null),x=c({}),u=c(!1);G(()=>{U()}),H(()=>{g(d.value)});const M=()=>{t.value={},u.value=!1,p.value=!0},O=()=>{p.value=!1,u.value=!1},D=()=>{u.value=!0,t.value.nombre&&t.value.ruc&&(t.value.id?(T(d.value,t.value),g(d.value)):(S(d.value,t.value),g(d.value)),p.value=!1,t.value={})},L=v=>{t.value={...v},p.value=!0},P=v=>{t.value=v,C.value=!0},B=v=>{I(d.value,v),g(d.value)},q=()=>{w.value.exportCSV()},U=()=>{x.value={global:{value:null,matchMode:J.CONTAINS}}};return(v,a)=>{const A=r("Toast"),n=r("Button"),F=r("Toolbar"),f=r("InputText"),b=r("Column"),$=r("DataTable"),j=r("Textarea"),R=r("Dialog");return y(),k("div",Z,[l("div",ee,[l("div",te,[o(A),o(F,{class:"mb-4"},{start:s(()=>[l("div",le,[o(n,{label:"Nuevo",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:M})])]),end:s(()=>[o(n,{label:"Exportar",icon:"pi pi-upload",class:"p-button-help",onClick:a[0]||(a[0]=e=>q(e))})]),_:1}),o($,{ref_key:"dt",ref:w,value:Q(E),dataKey:"id",paginator:!0,rows:10,filters:x.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrando {first} hasta {last} de {totalRecords} registros",responsiveLayout:"scroll"},{header:s(()=>[l("div",oe,[ae,l("span",se,[ie,o(f,{modelValue:x.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=e=>x.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:s(()=>[o(b,{field:"nombre",header:"NOMBRE",sortable:!0,headerStyle:"width:25%; min-width:10rem;"},{body:s(e=>[ne,m(" "+_(e.data.nombre)+" ",1),re,m(" "+_(e.data.ruc),1)]),_:1}),o(b,{field:"ruc",header:"EMAIL",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(e=>[de,m(" "+_(e.data.email),1)]),_:1}),o(b,{field:"direccion",header:"DIRECCION",sortable:!0,headerStyle:"width:25%; min-width:10rem;"},{body:s(e=>[ue,m(" "+_(e.data.direccion),1)]),_:1}),o(b,{field:"telefono",header:"TELEFONO",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(e=>[ce,m(" "+_(e.data.telefono),1)]),_:1}),o(b,{headerStyle:"min-width:10rem;",header:"ACCIONES "},{body:s(e=>[o(n,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:z=>L(e.data)},null,8,["onClick"]),o(n,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:z=>P(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters"]),o(R,{visible:p.value,"onUpdate:visible":a[7]||(a[7]=e=>p.value=e),style:{width:"450px"},header:"Detalles de Registro",modal:!0,class:"p-fluid"},{footer:s(()=>[o(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:O}),o(n,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:D})]),default:s(()=>[l("div",me,[pe,o(f,{id:"name",modelValue:t.value.nombre,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.nombre=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:N({"p-invalid":u.value&&!t.value.nombre})},null,8,["modelValue","class"]),u.value&&!t.value.nombre?(y(),k("small",ve,"Name is required.")):V("",!0)]),l("div",_e,[fe,o(f,{id:"name",modelValue:t.value.ruc,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.ruc=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:N({"p-invalid":u.value&&!t.value.ruc})},null,8,["modelValue","class"]),u.value&&!t.value.ruc?(y(),k("small",be,"Name is required.")):V("",!0)]),l("div",he,[ge,o(j,{id:"description",modelValue:t.value.direccion,"onUpdate:modelValue":a[4]||(a[4]=e=>t.value.direccion=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),l("div",Ce,[xe,o(f,{id:"name",modelValue:t.value.telefono,"onUpdate:modelValue":a[5]||(a[5]=e=>t.value.telefono=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue"])]),l("div",ye,[ke,o(f,{id:"name",modelValue:t.value.email,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value.email=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue"])])]),_:1},8,["visible"]),o(R,{visible:C.value,"onUpdate:visible":a[10]||(a[10]=e=>C.value=e),style:{width:"450px"},header:"Confirmar",modal:!0},{footer:s(()=>[o(n,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:a[8]||(a[8]=e=>C.value=!1)}),o(n,{label:"SI",icon:"pi pi-check",class:"p-button-text",onClick:a[9]||(a[9]=e=>B(t.value.id))})]),default:s(()=>[l("div",Ve,[we,t.value?(y(),k("span",Re,[m("Estas seguro de eliminar a "),l("b",null,_(t.value.nombre),1),m("?")])):V("",!0)])]),_:1},8,["visible"])])])])}}},Se=K(Ne,[["__scopeId","data-v-4c317b25"]]);export{Se as default};
