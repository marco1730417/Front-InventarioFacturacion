import{_ as z,r as p,q as G,o as K,s as J,b as r,c as b,d as h,e as a,f as o,g as i,j as Q,i as u,t as _,l as y,n as I,p as W,m as X}from"./index.eced38de.js";import{u as Y}from"./crud.c38a67b9.js";const s=C=>(W("data-v-4ac5aaab"),C=C(),X(),C),Z={class:"grid"},ee={class:"col-12"},ae={class:"card"},te={class:"my-2"},oe={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},le=s(()=>a("h5",{class:"m-0"},"Administraci\xF3n de Usuarios",-1)),se={class:"block mt-2 md:mt-0 p-input-icon-left"},ie=s(()=>a("i",{class:"pi pi-search"},null,-1)),ne=s(()=>a("span",{class:"p-column-title"},"NOMBRE",-1)),de=s(()=>a("span",{class:"p-column-title"},"Email",-1)),re=s(()=>a("span",{class:"p-column-title"},"IDENTIFICACION",-1)),ue=s(()=>a("span",{class:"p-column-title"},"Sueldo",-1)),ce=s(()=>a("span",{class:"p-column-title"},"Cargo",-1)),me=s(()=>a("span",{class:"p-column-title"},"PERFIL",-1)),pe={key:0},_e={key:1},ve=s(()=>a("span",{class:"p-column-title"},"HORAS",-1)),fe={class:"field"},be=s(()=>a("label",{for:"name"},"Nombre",-1)),he={key:0,class:"p-invalid"},ge={class:"field"},ye=s(()=>a("label",{for:"name"},"Email",-1)),Ce={class:"field"},Ve=s(()=>a("label",{for:"name"},"Identificacion",-1)),we={key:0,class:"p-invalid"},ke={class:"field"},xe=s(()=>a("label",{for:"description"},"Direccion",-1)),Se={class:"field"},Re=s(()=>a("label",{for:"name"},"Sueldo",-1)),Ie={class:"field"},Ne=s(()=>a("label",{for:"description"},"Cargo",-1)),Ee={class:"field"},Te=s(()=>a("label",{for:"description"},"N\xFAmero Horas Laborables",-1)),Ue={class:"flex align-items-center justify-content-center"},Me=s(()=>a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Le={key:0},Pe={__name:"Usuarios",setup(C){const{obtenerRegistros:V,editarRegistro:N,datos:E,guardarRegistro:T,eliminarRegistro:U}=Y(),c=p("usuarios"),v=p(!1),w=p(!1),t=p({}),S=p(null),k=p({}),m=p(!1);G(()=>{B()}),K(()=>{V(c.value)});const M=()=>{t.value={},m.value=!1,v.value=!0},L=()=>{v.value=!1,m.value=!1},P=()=>{m.value=!0,t.value.name&&t.value.identificacion&&(t.value.id?(N(c.value,t.value),V(c.value)):(T(c.value,t.value),V(c.value)),v.value=!1,t.value={})},A=f=>{t.value={...f},v.value=!0},D=f=>{t.value=f,w.value=!0},O=f=>{U(c.value,f),V(c.value)},q=()=>{S.value.exportCSV()},B=()=>{k.value={global:{value:null,matchMode:J.CONTAINS}}};return(f,l)=>{const F=r("Toast"),n=r("Button"),$=r("Toolbar"),g=r("InputText"),d=r("Column"),j=r("DataTable"),x=r("Textarea"),R=r("Dialog");return b(),h("div",Z,[a("div",ee,[a("div",ae,[o(F),o($,{class:"mb-4"},{start:i(()=>[a("div",te,[o(n,{label:"Nuevo",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:M})])]),end:i(()=>[o(n,{label:"Exportar",icon:"pi pi-upload",class:"p-button-help",onClick:l[0]||(l[0]=e=>q(e))})]),_:1}),o(j,{ref_key:"dt",ref:S,value:Q(E),dataKey:"id",paginator:!0,rows:10,filters:k.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Mostrando {first} hasta {last} de {totalRecords} registros",responsiveLayout:"scroll"},{header:i(()=>[a("div",oe,[le,a("span",se,[ie,o(g,{modelValue:k.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=e=>k.value.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:i(()=>[o(d,{field:"nombre",header:"NOMBRE",sortable:!0,headerStyle:"width:25%; min-width:10rem;"},{body:i(e=>[ne,u(" "+_(e.data.name),1)]),_:1}),o(d,{field:"identificacion",header:"EMAIL",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(e=>[de,u(" "+_(e.data.email),1)]),_:1}),o(d,{field:"identificacion",header:"IDENTIFICACION",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(e=>[re,u(" "+_(e.data.identificacion),1)]),_:1}),o(d,{field:"sueldo",header:"SUELDO",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(e=>[ue,u(" "+_(e.data.sueldo),1)]),_:1}),o(d,{field:"cargo",header:"CARGO",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(e=>[ce,u(" "+_(e.data.cargo),1)]),_:1}),o(d,{field:"sueldo",header:"PERFIL",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(e=>[me,e.data.perfil==1?(b(),h("span",pe,"Administrador")):y("",!0),e.data.perfil==2?(b(),h("span",_e,"Est\xE1ndar")):y("",!0)]),_:1}),o(d,{field:"sueldo",header:"HORAS",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:i(e=>[ve,u(" "+_(e.data.numero_horas_laborables),1)]),_:1}),o(d,{headerStyle:"min-width:10rem;",header:"ACCIONES "},{body:i(e=>[o(n,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:H=>A(e.data)},null,8,["onClick"]),o(n,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:H=>D(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters"]),o(R,{visible:v.value,"onUpdate:visible":l[9]||(l[9]=e=>v.value=e),style:{width:"750px"},header:"Detalles de Registro",modal:!0,class:"p-fluid"},{footer:i(()=>[o(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:L}),o(n,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:P})]),default:i(()=>[a("div",fe,[be,o(g,{id:"name",modelValue:t.value.name,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:I({"p-invalid":m.value&&!t.value.name})},null,8,["modelValue","class"]),m.value&&!t.value.name?(b(),h("small",he,"Name is required.")):y("",!0)]),a("div",ge,[ye,o(g,{id:"name",modelValue:t.value.email,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.email=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue"])]),a("div",Ce,[Ve,o(g,{id:"name",modelValue:t.value.identificacion,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.identificacion=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:I({"p-invalid":m.value&&!t.value.identificacion})},null,8,["modelValue","class"]),m.value&&!t.value.identificacion?(b(),h("small",we,"Name is required.")):y("",!0)]),a("div",ke,[xe,o(x,{id:"description",modelValue:t.value.direccion,"onUpdate:modelValue":l[5]||(l[5]=e=>t.value.direccion=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),a("div",Se,[Re,o(g,{id:"name",modelValue:t.value.sueldo,"onUpdate:modelValue":l[6]||(l[6]=e=>t.value.sueldo=e),modelModifiers:{trim:!0},required:"true",autofocus:""},null,8,["modelValue"])]),a("div",Ie,[Ne,o(x,{id:"description",modelValue:t.value.cargo,"onUpdate:modelValue":l[7]||(l[7]=e=>t.value.cargo=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),a("div",Ee,[Te,o(x,{id:"description",modelValue:t.value.numero_horas_laborables,"onUpdate:modelValue":l[8]||(l[8]=e=>t.value.numero_horas_laborables=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])])]),_:1},8,["visible"]),o(R,{visible:w.value,"onUpdate:visible":l[12]||(l[12]=e=>w.value=e),style:{width:"450px"},header:"Confirmar",modal:!0},{footer:i(()=>[o(n,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:l[10]||(l[10]=e=>w.value=!1)}),o(n,{label:"SI",icon:"pi pi-check",class:"p-button-text",onClick:l[11]||(l[11]=e=>O(t.value.id))})]),default:i(()=>[a("div",Ue,[Me,t.value?(b(),h("span",Le,[u("Estas seguro de eliminar a "),a("b",null,_(t.value.name),1),u("?")])):y("",!0)])]),_:1},8,["visible"])])])])}}},Oe=z(Pe,[["__scopeId","data-v-4ac5aaab"]]);export{Oe as default};
